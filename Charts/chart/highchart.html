<!DOCTYPE html>
<html>
	<head>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<title> - jsFiddle demo</title>
	<script type='text/javascript' src='//code.jquery.com/jquery-1.9.1.js'></script>
	<script src="http://code.highcharts.com/highcharts.js"></script>
	<script src="http://code.highcharts.com/modules/data.js"></script>
	<script src="http://code.highcharts.com/modules/exporting.js"></script>
	<!-- Additional files for the Highslide popup effect -->
	<script type="text/javascript" src="http://www.highcharts.com/media/com_demo/highslide-full.min.js"></script>
	<script type="text/javascript" src="http://www.highcharts.com/media/com_demo/highslide.config.js" charset="utf-8"></script>
	<link rel="stylesheet" type="text/css" href="http://www.highcharts.com/media/com_demo/highslide.css" />
	<style type='text/css'></style>

	<script type='text/javascript'>
		$(document).ready(function() {

	    var options = {
	        chart: {
	            renderTo: 'container',
	            type: 'spline'
	        },
				title: {
		 					text: 'Line Chart'
		 				},
     					xAxis: {
		 					type: 'datetime',
		 					minRange: 1 * 24 * 3600000 // one day
		 				},
     					yAxis : {
     						title : {
     							text : 'Value'
     						}
     					},
	 				legend: {
	 					enabled: true
	 				},
	        series: [{}]
	    };

	    $.getJSON('getData.php', function(data) {
					chart_data = [];
					$.each(data, function(i,obj){
						chart_data.push([Date.parse(obj.timestamp),obj.value]);
					});
	        options.series[0].data = chart_data;
	        var chart = new Highcharts.Chart(options);
	    });

		});

    // $(function () {
    // 	$(document).ready(function () {
		//
    // 		$(document).ready(function () {
    // 			function requestData() {
    // 				$.ajax({
    // 					url : 'getData.php',
    // 					datatype : 'json',
    // 					success : function (data) {
    // 						//alert(data);
		// 						chart.series.push({ "name": "Wambo", "data": [] });
		//
		// 						json = JSON.parse(data)
		// 						$.each(json, function(i,obj){
		// 							console.log(JSON.stringify([Date.parse(obj.timestamp),obj.value]));
		// 							chart.series[0].data.push([Date.parse(obj.timestamp),obj.value]);
		// 						});
		// 						console.log(chart.series[0]);
    // 						//chart.series[0].setData(json);
		// 						chart.redraw();
    // 					},
    // 					cache : false
    // 				});
    // 			}
		//
    // 			var chart;
    // 			//Chart bits
    // 			chart = new Highcharts.Chart({
    // 					chart : {
    // 						renderTo : 'container',
    // 						type : 'line',
    // 						events : {
    // 							load : requestData
    // 						}
    // 					},
		// 				title: {
		// 					text: 'Line Chart'
		// 				},
    // 					xAxis: {
		// 					type: 'datetime',
		// 					minRange: 1 * 24 * 3600000 // one day
		// 				},
    // 					yAxis : {
    // 						title : {
    // 							text : 'Value'
    // 						}
    // 					},
		// 				legend: {
		// 					enabled: true
		// 				},
    // 					series : []
    // 				});
    // 		});
    // 	});
    // });
  </script>
  </head>
  <body><div id="container" style="min-width: 310px; height: 400px; margin: 0 auto">
	</div></body>
</html>
